<h1 class="page-header">All courses</h1>

<% @courses.each do |course| %>
  <h3><strong><%= course.name %></strong></h3>

	  <p><%= sanitize course.description %></p>
	  <% if current_user.admin? %>
	    <%= link_to "Edit", edit_course_path(course) %>
	    <%= link_to "Delete", course_path(course), method: :delete, data: { confirm: "Are you sure you want to delete this course?"} %>
	  <% end %>

	  <% if current_user.user_courses.where(course_id: course.id).first.nil? %>
	    <%#= link_to "Add to My courses", user_courses_path(user: current_user, course_id: course.id), class: "btn btn-success", method: :post %>
	    <%#= current_user.courses.size %>

 		<%= link_to "<span class=\"glyphicon glyphicon-plus\"></span>&nbsp; Enroll".html_safe, user_courses_path(user: current_user, course_id: course.id), method: :post, class: "btn btn-success" ,style: "color: white;" %>
	  <%else%>
	    <%= link_to "<span class=\"glyphicon glyphicon-remove\"></span>&nbsp; Withdraw".html_safe, user_course_path(course.user_courses.where(user_id: current_user).first.id), method: :delete, data: { confirm: "Are you sure you want to delete this slide"}, class: "btn btn-default" %><br>
	  <% end %>

    <hr>
<% end %>

<h1>My Courses</h1>

<hr>

<table class="table table-striped" idd="css-serial">
  <thead>
    <tr>
      <th>#</th>
      <th>Usercourse ID</th>
      <th>UserCourse Course ID</th>
      <th>UserCourse Course NAME</th>
      <th>UserCourse User ID</th>
      <th>UserCourse User Email</th>
    </tr>
  </thead>
  <tbody>
    <% UserCourse.all.each do |usercourse| %>
      <tr>
      	<td></td>
        <td><%= usercourse.id %></td>
        <td><%= usercourse.course_id%></td>
        <td><%= usercourse.course.name %></td>       
        <td><%= usercourse.user_id %></td>
        <td><%= usercourse.user.email%></td>
      </tr>
    <% end %>
  </tbody>
</table>